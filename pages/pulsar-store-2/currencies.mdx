import {Callout} from "nextra-theme-docs";
import MethodList from "../../components/method_list";

# Currencies
Currencies are the different types of currency that you can use in Pulsar Store. You can have as many currencies as you want, but you need at least one. The default currency is Pulsar Credits.

<Callout emoji="⚠️">
	Removing the default currency is **NOT** recommended, as it is used for a lot of things.<br/>
	The addon may not function correctly if you remove the default currency.<br/>
	**No support will be given if you remove the default currency.**
</Callout>

## Creating a currency
To create a currency, create a new file in `addons/pulsar-store/lua/pulsar-store/config/currencies/` with the name `sh_mycurrency.lua`.
Creating a currency needs 4 basic functions and 2 strings to work properly.

## Example
```lua
PulsarStore = PulsarStore or {}
PulsarStore.Currencies = PulsarStore.Currencies or {}

PulsarStore.Currencies.Create("DarkRP")
    :Get(function(ply, steamId, onSuccess, onError)
        local money = ply:getDarkRPVar("money")
        onSuccess(money)
    end)
    :Add(function(ply, steamId, amount, onSuccess, onError)
        ply:addMoney(amount)
        onSuccess()
    end)
    :CanAfford(function(ply, steamId, amount, onSuccess, onError)
        local canAfford = ply:canAfford(amount)
        onSuccess(canAfford) -- onSuccess as the function is still ran. onError is only ran if the function fails.
    end)
    :String("$", "left") -- The second argument is whether it should be on the left or right side of the amount
    :Description("DarkRP Money")
:Done()
```

### Currency functions
<MethodList methods={[
	{
		name: "Create",
		parent: "PulsarStore.Currencies.",
		description: "Creates a new currency.",
		args: ["Name"],
		returns: ["Currency"],
	},
	{
		name: "Get",
		parent: "Currency:",
		description: "The function that gets how much of the currency the player has.",
		args: ["function(ply, steamId, onSuccess, onError)"],
		returns: ["Currency"],
	},
	{
		name: "Add",
		parent: "Currency:",
		description: "The function that adds the currency to the player.",
		args: ["function(ply, steamId, amount, onSuccess, onError)"],
		returns: ["Currency"],
	},
	{
		name: "CanAfford",
		parent: "Currency:",
		description: "The function that checks if the player can afford the amount of currency.",
		args: ["function(ply, steamId, amount, onSuccess, onError)"],
		returns: ["Currency"],
	},
	{
		name: "String",
		parent: "Currency:",
		description: "A string that is used for the currency. The first argument is the string, the second is whether it should be on the left or right side of the amount.",
		args: ["string", "left/right"],
		returns: ["Currency"],
	},
	{
		name: "Description",
		parent: "Currency:",
		description: "A basic description of the currency.",
		args: ["string"],
		returns: ["Currency"],
	},
	{
		name: "Done",
		parent: "Currency:",
		description: "Registers the currency.",
		args: [""],
		returns: [""],
	}
]} />